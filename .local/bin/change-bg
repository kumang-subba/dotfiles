#!/bin/bash

wallDIR="$HOME/Pictures/wallpapers"

focused_monitor=$(hyprctl monitors | awk '/^Monitor/{name=$2} /focused: yes/{print name}')

PICS=($(find ${wallDIR} -type f \( -name "*.jpg" -o -name "*.jpeg" -o -name "*.png" -o -name "*.gif" \)))
RANDOMPICS=${PICS[ $RANDOM % ${#PICS[@]} ]}

typeoptions=("left" "right" "top" "bottom" "wipe" "wave" "grow" "center" "any" "outer")
# Transition config
FPS=60
TYPE=${typeoptions[$((RANDOM % ${#typeoptions[@]}))]}
DURATION=2
BEZIER=".25,.1,.25,1"
SWWW_PARAMS="--transition-fps $FPS --transition-type $TYPE --transition-duration $DURATION --transition-bezier $BEZIER"


swww query || swww-daemon --format argb && swww img -o $focused_monitor ${RANDOMPICS} $SWWW_PARAMS
